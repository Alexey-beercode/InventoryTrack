<div class="modal">
  <div class="modal-content">
    <h2 class="modal-title">Создание заявки на перемещение</h2>

    <div *ngIf="isLoading" class="loading-container">
      <p>Загрузка данных...</p>
    </div>

    <div *ngIf="!isLoading">
      <!-- Выбор товара -->
      <div class="form-group">
        <label for="item">Товар</label>
        <select
          id="item"
          [(ngModel)]="selectedItem"
          (ngModelChange)="loadSourceWarehouses()"
          class="form-control"
        >
          <option *ngFor="let item of items" [ngValue]="item">{{ item.name }}</option>
        </select>
      </div>

      <!-- Выбор склада источника -->
      <div class="form-group" *ngIf="selectedItem">
        <label for="sourceWarehouse">Склад источника</label>
        <select
          id="sourceWarehouse"
          [(ngModel)]="selectedSourceWarehouse"
          class="form-control"
        >
          <option
            *ngFor="let warehouse of sourceWarehouses"
            [ngValue]="warehouse"
          >
            {{ warehouse.warehouseName }} ({{ warehouse.quantity }})
          </option>
        </select>
      </div>

      <!-- Выбор склада назначения -->
      <div class="form-group">
        <label for="destinationWarehouse">Склад назначения</label>
        <select
          id="destinationWarehouse"
          [(ngModel)]="selectedDestinationWarehouse"
          class="form-control"
        >
          <option
            *ngFor="let warehouse of destinationWarehouses"
            [ngValue]="warehouse"
          >
            {{ warehouse.name }}
          </option>
        </select>
      </div>

      <!-- Ввод количества -->
      <div class="form-group">
        <label for="quantity">Количество</label>
        <input
          type="number"
          id="quantity"
          [(ngModel)]="transferQuantity"
          class="form-control"
          min="1"
        />
      </div>

      <!-- Кнопки -->
      <div class="modal-buttons">
        <button (click)="createMovementRequest()" class="btn-primary">Создать</button>
        <button (click)="close.emit()" class="btn-secondary">Отмена</button>
      </div>
    </div>
  </div>
</div>
