<div class="writeoff-card">
  <h3>–ó–∞—è–≤–∫–∞ ‚Ññ {{ writeOffRequest.id }}</h3>
  <p><strong>–°–∫–ª–∞–¥:</strong> {{ warehouseName }}</p>
  <p><strong>–ü—Ä–∏—á–∏–Ω–∞:</strong> {{ writeOffRequest.reason.reason }}</p>
  <p><strong>–î–∞—Ç–∞:</strong> {{ writeOffRequest.requestDate | customDate }}</p>
  <!-- üÜï –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞—Ä—Ç–∏–∏ (–µ—Å–ª–∏ —ç—Ç–æ –ø–∞—Ä—Ç–∏–π–Ω–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ) -->
  <div *ngIf="showBatchInfo && writeOffRequest.batchNumber" class="batch-indicator">
    üì¶ –ü–∞—Ä—Ç–∏—è: {{ writeOffRequest.batchNumber }}
  </div>

  <!-- üÜï –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∞–Ω–∏—è -->
  <div *ngIf="showBatchInfo && !writeOffRequest.batchNumber" class="individual-indicator">
    üìÑ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ
  </div>

  <app-error-message *ngIf="errorMessage" [message]="errorMessage"></app-error-message>

  <div *ngIf="writeOffRequest.status.value === RequestStatus.Requested" class="actions">
    <button class="approve-btn" (click)="openUploadModal()">–û–¥–æ–±—Ä–∏—Ç—å</button>
    <button class="reject-btn" (click)="reject()">–û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
  </div>
  <!-- üì• –ö–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞, –µ—Å–ª–∏ –æ–Ω –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω -->
  <!-- üì• –ö–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞, –µ—Å–ª–∏ –æ–Ω –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—É—Å—Ç—ã–º -->
  <div *ngIf="writeOffRequest.documentId && writeOffRequest.documentId !== '00000000-0000-0000-0000-000000000000'" class="download-section">
    <button class="download-btn" (click)="downloadDocument(writeOffRequest.documentId)">
      üì• –°–∫–∞—á–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç
    </button>
  </div>


</div>
<div *ngIf="showUploadModal" class="upload-modal">
  <div class="upload-modal-content" style="max-width: 600px">
    <h3>üìé –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∫ –∑–∞—è–≤–∫–µ –Ω–∞ —Å–ø–∏—Å–∞–Ω–∏–µ</h3>

    <input type="file" (change)="onFileSelected($event)" />

    <div *ngIf="isDocumentGenerated" class="generated-info">
      <p>‚úÖ –î–æ–∫—É–º–µ–Ω—Ç —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</p>
      <span class="file-icon">üìÑ</span>
    </div>

    <div *ngIf="!isDocumentGenerated" class="generate-wrapper">
      <button class="btn generate-btn" (click)="generateDocument()" [disabled]="isGeneratingDocument">
        {{ isGeneratingDocument ? '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è...' : '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç' }}
      </button>
    </div>

    <div class="actions">
      <button class="final-approve-btn" (click)="confirmUpload()" [disabled]="!selectedFile && !generatedDocumentFile">
        –£—Ç–≤–µ—Ä–¥–∏—Ç—å
      </button>
      <button class="btn-secondary" (click)="showUploadModal = false">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>
</div>
